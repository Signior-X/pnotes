function openUpdateNoteModal(e){var t=document.getElementById(e),n=window.notesData[e],o=t.getElementsByClassName("note-title")[0].innerHTML,a=document.getElementById("myModal"),i=document.getElementsByClassName("close")[0],d=document.getElementById("add-title"),l=document.getElementById("add-description");d.value=o,l.innerHTML=n,a.style.display="block",l.value=n,i.onclick=function(){a.style.display="none"};var s=document.getElementById("add-note-submit-button");s.innerHTML="Update Note",s.onclick=function(){var t=document.getElementById("add-title").value,n=document.getElementById("add-description").value;t?(updateNotefunction(e,t,n),a.style.display="none"):(console.log("Empty Note Title"),a.style.display="none")}}document.addEventListener("DOMContentLoaded",function(){window.signInEmail="",window.notesData={};var e=new Remarkable;signInfunction=(()=>{console.log("Sign In NOw!");var e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(e).then(function(e){console.log("success, check now!")}).catch(function(e){console.log(e),console.log("Failed to do")})}),firebase.auth().onAuthStateChanged(function(t){if(t){console.log("User is signed in!");var n=t.email.length;window.signInEmail=t.email.toString().substr(0,n-10),document.getElementById("guser").innerHTML="Welcome "+window.signInEmail,document.getElementById("signInButton").style.display="none",document.getElementById("signOutButton").style.display="block",document.getElementById("addNoteButton").style.display="block",firebase.database().ref(window.signInEmail).orderByChild("timestamp").on("value",function(t){var n=document.getElementById("note-family");n.innerHTML="";var o=[];t.forEach(function(e){var t=e.key,n=e.val();o.push({childKey:t,childData:n})}),o.reverse(),window.notesData={},o.forEach(function(t){var o=t.childKey,a=t.childData;window.notesData[o]=a.description,n.innerHTML+='<div class="noterow" id="'+o+'" ><p class="notekey" >'+o+'</p>\x3c!-- Expand Button --\x3e<div class="row" style="margin-left:0; margin-right:0" onclick=expandCollapseFun("'+o+'")> <i  style="font-size:24px;" class="expand-toggler-icon fa btn">&#xf107;</i><Button class="update-note-button btn btn-secondary" onclick=openUpdateNoteModal(\''+o+"') >Update</Button><Button class=\"remove-note-button btn btn-danger\" onclick=openDeleteNoteModal('"+o+'\') >Remove</Button><h6 class="note-date">'+a.date+'</h6><h4 class="note-title">'+a.title+'</h4></div><div class="note-descripiton-md" style="display: none;">'+e.render(a.description)+"</div></div>"})}),addNotefunction=((e,t)=>{console.log("Add Note");var n={title:e,description:t,date:(new Date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),timestamp:firebase.database.ServerValue.TIMESTAMP},o={};return o[firebase.database().ref(window.signInEmail).push().key]=n,firebase.database().ref(window.signInEmail).update(o)}),updateNotefunction=((e,t,n)=>{console.log("Update Note");var o={title:t,description:n,date:(new Date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),timestamp:firebase.database.ServerValue.TIMESTAMP},a={};return a[e]=o,firebase.database().ref(window.signInEmail).update(a)}),deleteNotefunction=(e=>firebase.database().ref(window.signInEmail).child(e).remove())}else console.log("NO user signed in!"),window.signInEmail="",document.getElementById("guser").innerHTML="Welcome to Pnotes!",document.getElementById("signInButton").style.display="block",document.getElementById("signOutButton").style.display="none",document.getElementById("addNoteButton").style.display="none",document.getElementById("note-family").innerHTML=""});try{let e=firebase.app();["auth","database","messaging","storage"].filter(t=>"function"==typeof e[t])}catch(e){console.error(e)}}),signOutfunction=(()=>{console.log("Sign Out User!");firebase.auth().signOut()});